const pokemonRepository=function(){let t=[];function n(){return t}function e(n){t.push(n)}function o(t){a();let n=t.detailsUrl;return $.ajax(n,{dataType:"json"}).then(function(n){t.imageUrl=n.sprites.front_default,t.height=n.height}).catch(function(t){console.error(t)}).always(function(){i()})}function a(){let t=$("#loading-container"),n=$("#loading-message");n.length?n.show():((n=$("<p></p>")).attr("id","loading-message"),n.text("Loading..."),t.append(n))}function i(){let t=$("#loading-message");t.length&&t.hide()}return{getAll:n,add:e,addListItem:function t(n){let e=$("#pokedex-list"),a=$("<li></li>");a.addClass("list-group-item");let i=$("<button></button>");i.text(n.name),i.addClass("btn btn-primary w-100"),i.attr("data-toggle","modal"),i.attr("data-target","#pokemon-modal"),i.on("click",function(){(function t(n){o(n).then(function(){$("#pokemon-name").text(n.name),$("#pokemon-height").text(n.height),$("#pokemon-image").attr("src",n.imageUrl)})})(n)}),a.append(i),e.append(a)},loadList:function t(){return a(),$.ajax("https://pokeapi.co/api/v2/pokemon/?limit=151",{dataType:"json"}).then(function(t){t.results.forEach(function(t){let n={name:t.name,detailsUrl:t.url};e(n)})}).catch(function(t){console.error(t)}).always(function(){i()})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});